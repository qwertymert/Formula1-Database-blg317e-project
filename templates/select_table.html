{% extends "layout.html" %}

{% block title %}Formula1 table selection{% endblock %}

{% block page_title %}<h2>Select a table to list rows</h2>{% endblock %}

{% block content %}

    <form action="{{ url_for("select_table")}}" method="post">
    <label for="select-table">Select a table:</label>
    <select name="table-name" id="table-name">
        {% if table_names %}   
            {% for table_name in table_names %}
                <option value="{{ table_name }}">{{ table_name }}</option>
            {% endfor %}
        {% endif %}
    </select>
    <button type="submit">Submit</button>
    <br><br>
    
    <h1 class="title">{% if title %} {{title}} {% endif %}</h1>

    {% if table %}    
    <table class="table is-striped is-fullwidth">
      <tr>
        {% if columns %}
          {% for col in columns %}
            <td>
              {{ col }}
            </td>
          {% endfor %}
        {% endif %}
      </tr>
      
      {% for row in table %}
      <tr>
          {% for val in row %}
            <td>
              {{ val }}
            </td>
          {% endfor %}
      </tr>
      {% endfor %}
    </table>
    {% endif %}
{% endblock %}